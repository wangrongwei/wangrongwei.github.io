<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>安装qemu仿真器</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p>##说明 ##<br>
作者直接使用apt install qemu安装方式，安装后的qemu不支持仿真，同时且版本不是太新，因此想直接从官方下载qemu源码安装，在这里记录相关操作，分析踩的坑。</p>
<ul>
<li>系统：ubuntu16.04</li>
<li>qemu-2.11</li>
</ul>
<hr>
<h2><a id="_10"></a>安装步骤</h2>
<ol>
<li>阅读下载源代码目录下README<br>
简单一点，一般在ubuntu下安装习惯就是先简单看一下目录下是否有readme文本，一般里边有简单的安装方式，作者下载的qemu-2.11代码下有readme：</li>
</ol>
<pre><code>  mkdir build
  cd build
  ../configure
  make
  这个步骤操作简单，但是安装的qemu功能不全，没有提示安装一些库来支持它的其他功能。
</code></pre>
<ol start="2">
<li>安装qemu之前</li>
</ol>
<blockquote>
<p>Additional information can also be found online via the QEMU website:<br>
<a href="https://qemu.org/Hosts/Linux">https://qemu.org/Hosts/Linux</a><br>
<a href="https://qemu.org/Hosts/Mac">https://qemu.org/Hosts/Mac</a><br>
<a href="https://qemu.org/Hosts/W32">https://qemu.org/Hosts/W32</a><br>
在readme里边包含上面的网站，其中就包括安装qemu的详细过程，包括安装什么库来支持一些图像或者调试功能。</p>
</blockquote>
<hr>
<ol>
<li>简单说明可以安装的库</li>
</ol>
<blockquote>
<p>sudo apt-get install git libglib2.0-dev libfdt-dev libpixman-1-dev zlib1g-dev<br>
sudo apt-get install git-email<br>
sudo apt-get install libaio-dev libbluetooth-dev libbrlapi-dev libbz2-dev<br>
sudo apt-get install libcap-dev libcap-ng-dev libcurl4-gnutls-dev libgtk-3-dev<br>
sudo apt-get install libibverbs-dev libjpeg8-dev libncurses5-dev libnuma-dev<br>
sudo apt-get install librbd-dev librdmacm-dev<br>
sudo apt-get install libsasl2-dev libsdl1.2-dev libseccomp-dev libsnappy-dev libssh2-1-dev<br>
sudo apt-get install libvde-dev libvdeplug-dev libvte-2.90-dev libxen-dev liblzo2-dev<br>
sudo apt-get install valgrind xfslibs-dev<br>
然后较新的ubuntu或者debian可以安装：<br>
sudo apt-get install libnfs-dev libiscsi-dev</p>
</blockquote>
<ol>
<li>官方推荐的步骤<br>
cd qemu<br>
mkdir -p bin/debug/native<br>
cd bin/debug/native<br>
…/…/…/configure --enable-debug<br>
make<br>
这个步骤太多，可直接采用readme文档里边的简单步骤。</li>
</ol>
</div>
</body>

</html>
